<header class="navbar">
    <div class="navbar-brand">
        <a href="/" class="logo">AI创造互助社区</a>
    </div>

    <nav class="navbar-menu">
        <a href="/categories" class="nav-link">分类</a>
        {% if user %}
            {% if user.user_role != 'solver' %}
            <a href="/posts/create" class="nav-link btn-primary">发布求助</a>
            {% endif %}

            <div class="dropdown user-dropdown">
                <button class="dropdown-toggle nav-link">{{ user.nickname }}</button>
                <div class="dropdown-menu">
                    <a href="/users/profile" class="dropdown-item">个人资料</a>
                    {% if user.user_role != 'solver' %}
                    <a href="/users/my-posts" class="dropdown-item">我的求助单</a>
                    {% endif %}
                    {% if user.user_role in ['solver', 'both'] %}
                    <a href="/users/my-orders" class="dropdown-item">我接的单子</a>
                    {% endif %}
                    <a href="/messages" class="dropdown-item">消息中心</a>
                    <hr>
                    <form action="/auth/logout" method="post">
                        <button type="submit" class="dropdown-item">退出登录</button>
                    </form>
                </div>
            </div>
        {% else %}
            <a href="/auth/login" class="nav-link">登录</a>
            <a href="/auth/register" class="nav-link btn-primary">注册</a>
        {% endif %}
    </nav>
</header>

<style>
.user-dropdown .dropdown-toggle {
    color: var(--text-color);
    font-size: 1rem;
}

.user-dropdown .dropdown-item {
    font-size: 1rem;
}
</style>
