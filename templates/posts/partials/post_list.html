{% if posts %}
<div class="posts-list">
    {% for post in posts %}
    {% include "posts/partials/post_card.html" %}
    {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination">
    {% if page > 1 %}
    <a href="/posts?page={{ page - 1 }}{% if category %}&category={{ category }}{% endif %}{% if status %}&status={{ status }}{% endif %}{% if urgency %}&urgency={{ urgency }}{% endif %}"
       hx-get="/posts?page={{ page - 1 }}{% if category %}&category={{ category }}{% endif %}{% if status %}&status={{ status }}{% endif %}{% if urgency %}&urgency={{ urgency }}{% endif %}"
       hx-target="#posts-container"
       class="btn-outline">
        ä¸Šä¸€é¡µ
    </a>
    {% endif %}

    <span class="page-info">ç¬¬ {{ page }} / {{ total_pages }} é¡µ</span>

    {% if page < total_pages %}
    <a href="/posts?page={{ page + 1 }}{% if category %}&category={{ category }}{% endif %}{% if status %}&status={{ status }}{% endif %}{% if urgency %}&urgency={{ urgency }}{% endif %}"
       hx-get="/posts?page={{ page + 1 }}{% if category %}&category={{ category }}{% endif %}{% if status %}&status={{ status }}{% endif %}{% if urgency %}&urgency={{ urgency }}{% endif %}"
       hx-target="#posts-container"
       class="btn-outline">
        ä¸‹ä¸€é¡µ
    </a>
    {% endif %}
</div>
{% endif %}

{% else %}
<div class="empty-state">
    <div class="empty-state-icon">ğŸ“­</div>
    <p>æš‚æ— æ±‚åŠ©å¸–å­</p>
    <a href="/posts/create" class="btn-primary">å‘å¸ƒç¬¬ä¸€æ¡æ±‚åŠ©</a>
</div>
{% endif %}

<style>
.pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    margin-top: 2rem;
}

.page-info {
    color: var(--text-muted);
}
</style>
